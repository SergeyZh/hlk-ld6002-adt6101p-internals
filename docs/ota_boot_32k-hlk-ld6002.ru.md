# OTA Boot 32k HLK-LD6002
[![en](https://img.shields.io/badge/lang-en-blue.svg)](ota_boot_32k-hlk-ld6002.md)
[![ru](https://img.shields.io/badge/lang-ru-green.svg)](ota_boot_32k-hlk-ld6002.ru.md)

Располагается в памяти по адресу '20008000h'.

1. Заполняет 3 области RAM значениями FF:
   1. `0x20029000 - 0x20029085` (size=0x85)
   2. `0x20011000 - 0x20021000` (size=0x10000)
   3. `0x00008000 - 0x00018000`, (size=0x10000)
2. Выводит баннер со звездочками через UART0
3. Читает 8 байт из Flash `00010000h` - это [boot-area HLK-LD6002](boot-area-structure-hlk-ld6002.md)
4. Если factoryFg = 2, то:
   1. производится загрузка Factory Mode App из Flash `00038010h` в память `00008000h`
   2. записываем во Flash `00010007h` 1 байт `FF`
   3. выставляем стек значением из `08000h`
   4. запускаем код по адресу из `08004h`
5. Если isUpdateFg = 2, значит не надо обновлять приложение, а просто запускаем AppX:
   1. Если loadFg == 2, то загружаем App1 и запускаем.
   2. Если loadFg == 4, то загружаем App2 и запускаем.
6. Если isUpdateFg = 0xFF, то начинаем процедуру обновления приложения
   1. Если updateAppxFg == 2, то обновляем App1
   2. Если updateAppxFg == 4, то обновляем App2

Обновление приложения делается через UART0 и протокол XMODEM(?).

**!!! Похоже, что если не получается успешно выполнить обновление, то радар навсегда остается в режиме Update.**
